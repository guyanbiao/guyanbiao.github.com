---
layout: post
title: mongoDB 地理索引学习
---

t.location = {type: "Polygon", coordinates:  [ [ [100.0, 0.0], [101.0, 0.0], [101.0, 1.0], [100.0, 1.0], [100.0, 0.0] ] ] }

Polygon 类型的地理坐标是由两条线组成的，第一个数是外面的圈，第二个数组是在这个环里挖的洞洞，所以才嵌套2个数组的 coordinates:   [ [100.0, 0.0], [101.0, 0.0], [101.0, 1.0], [100.0, 1.0], [100.0, 0.0]，这样写是不行的会报错的"Can't extract geo keys"
